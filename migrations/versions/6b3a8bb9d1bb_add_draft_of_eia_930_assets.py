"""Add draft of EIA-930 assets

Revision ID: 6b3a8bb9d1bb
Revises: 172898b30824
Create Date: 2024-04-20 17:35:01.690926

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import sqlite

# revision identifiers, used by Alembic.
revision = '6b3a8bb9d1bb'
down_revision = '172898b30824'
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('core_eia930__assn_balancing_authority_region',
    sa.Column('balancing_authority_code_eia', sa.Text(), nullable=False, comment='EIA short code identifying a balancing authority.'),
    sa.Column('region_code_eia', sa.Enum('CAL', 'CAR', 'CENT', 'FLA', 'MIDA', 'MIDW', 'NE', 'NW', 'NY', 'SE', 'SW', 'TEN', 'TEX'), nullable=True, comment='EIA region code.'),
    sa.ForeignKeyConstraint(['balancing_authority_code_eia'], ['core_eia__codes_balancing_authorities.code'], name=op.f('fk_core_eia930__assn_balancing_authority_region_balancing_authority_code_eia_core_eia__codes_balancing_authorities')),
    sa.PrimaryKeyConstraint('balancing_authority_code_eia', name=op.f('pk_core_eia930__assn_balancing_authority_region'))
    )
    op.create_table('core_eia930__assn_balancing_authority_subregion',
    sa.Column('subregion_code_eia', sa.Enum('0001', '0004', '0006', '0027', '0035', '4001', '4002', '4003', '4004', '4005', '4006', '4007', '4008', '8910', 'ACMA', 'AE', 'AEP', 'AP', 'ATSI', 'BC', 'CE', 'COAS', 'CSWS', 'CYGA', 'DAY', 'DEOK', 'DOM', 'DPL', 'DUQ', 'EAST', 'EDE', 'EKPC', 'FREP', 'FWES', 'GRDA', 'INDN', 'JC', 'JICA', 'KACY', 'KAFB', 'KCEC', 'KCPL', 'LAC', 'LES', 'ME', 'MPS', 'NCEN', 'NPPD', 'NRTH', 'NTUA', 'OKGE', 'OPPD', 'PE', 'PEP', 'PGAE', 'PL', 'PN', 'PNM', 'PS', 'RECO', 'SCE', 'SCEN', 'SDGE', 'SECI', 'SOUT', 'SPRM', 'SPS', 'TSGT', 'VEA', 'WAUE', 'WEST', 'WFEC', 'WR', 'ZONA', 'ZONB', 'ZONC', 'ZOND', 'ZONE', 'ZONF', 'ZONG', 'ZONH', 'ZONI', 'ZONJ', 'ZONK'), nullable=False, comment='EIA subregion code.'),
    sa.Column('balancing_authority_code_eia', sa.Text(), nullable=True, comment='EIA short code identifying a balancing authority.'),
    sa.ForeignKeyConstraint(['balancing_authority_code_eia'], ['core_eia__codes_balancing_authorities.code'], name=op.f('fk_core_eia930__assn_balancing_authority_subregion_balancing_authority_code_eia_core_eia__codes_balancing_authorities')),
    sa.PrimaryKeyConstraint('subregion_code_eia', name=op.f('pk_core_eia930__assn_balancing_authority_subregion'))
    )
    op.create_table('core_eia930__hourly_balancing_authority_demand',
    sa.Column('report_datetime_local', sqlite.DATETIME(), nullable=True, comment='Local date and time of the report.'),
    sa.Column('report_datetime_utc', sqlite.DATETIME(), nullable=False, comment='UTC date and time of the report.'),
    sa.Column('balancing_authority_code_eia', sa.Text(), nullable=False, comment='EIA short code identifying a balancing authority.'),
    sa.Column('demand_forecast_mw', sa.Float(), nullable=True, comment='Forecast demand.'),
    sa.Column('demand_reported_mw', sa.Float(), nullable=True, comment='Reported demand.'),
    sa.Column('demand_adjusted_mw', sa.Float(), nullable=True, comment='Adjusted demand.'),
    sa.Column('demand_imputed_mw', sa.Float(), nullable=True, comment='Imputed demand.'),
    sa.ForeignKeyConstraint(['balancing_authority_code_eia'], ['core_eia__codes_balancing_authorities.code'], name=op.f('fk_core_eia930__hourly_balancing_authority_demand_balancing_authority_code_eia_core_eia__codes_balancing_authorities')),
    sa.PrimaryKeyConstraint('report_datetime_utc', 'balancing_authority_code_eia', name=op.f('pk_core_eia930__hourly_balancing_authority_demand'))
    )
    op.create_table('core_eia930__hourly_balancing_authority_interchange',
    sa.Column('report_datetime_local', sqlite.DATETIME(), nullable=True, comment='Local date and time of the report.'),
    sa.Column('report_datetime_utc', sqlite.DATETIME(), nullable=False, comment='UTC date and time of the report.'),
    sa.Column('balancing_authority_code_eia', sa.Text(), nullable=False, comment='EIA short code identifying a balancing authority.'),
    sa.Column('adjacent_balancing_authority_code_eia', sa.Text(), nullable=False, comment='EIA code for the other adjacent balancing authority, with which interchange is occuring.'),
    sa.Column('region_code_eia', sa.Enum('CAL', 'CAR', 'CENT', 'FLA', 'MIDA', 'MIDW', 'NE', 'NW', 'NY', 'SE', 'SW', 'TEN', 'TEX'), nullable=True, comment='EIA region code.'),
    sa.Column('adjacent_region_code_eia', sa.Text(), nullable=True, comment='EIA code for the other adjacent region, with which interchange is occuring.'),
    sa.Column('interchange_mw', sa.Float(), nullable=True, comment='Interchange in MW.'),
    sa.ForeignKeyConstraint(['balancing_authority_code_eia'], ['core_eia__codes_balancing_authorities.code'], name=op.f('fk_core_eia930__hourly_balancing_authority_interchange_balancing_authority_code_eia_core_eia__codes_balancing_authorities')),
    sa.PrimaryKeyConstraint('report_datetime_utc', 'balancing_authority_code_eia', 'adjacent_balancing_authority_code_eia', name=op.f('pk_core_eia930__hourly_balancing_authority_interchange'))
    )
    op.create_table('core_eia930__hourly_balancing_authority_net_generation',
    sa.Column('report_datetime_local', sqlite.DATETIME(), nullable=True, comment='Local date and time of the report.'),
    sa.Column('report_datetime_utc', sqlite.DATETIME(), nullable=False, comment='UTC date and time of the report.'),
    sa.Column('balancing_authority_code_eia', sa.Text(), nullable=False, comment='EIA short code identifying a balancing authority.'),
    sa.Column('energy_source', sa.Enum('coal', 'gas', 'hydro', 'interchange', 'nuclear', 'oil', 'other', 'solar', 'total', 'unknown', 'wind'), nullable=False, comment='Energy source responsible for the generation.'),
    sa.Column('net_generation_reported_mw', sa.Float(), nullable=True, comment='Reported net electricity generation for the specified period in megawatts (MW).'),
    sa.Column('net_generation_adjusted_mw', sa.Float(), nullable=True, comment='Adjusted net electricity generation for the specified period in megawatts (MW).'),
    sa.Column('net_generation_imputed_mw', sa.Float(), nullable=True, comment='Imputed net electricity generation for the specified period in megawatts (MW).'),
    sa.ForeignKeyConstraint(['balancing_authority_code_eia'], ['core_eia__codes_balancing_authorities.code'], name=op.f('fk_core_eia930__hourly_balancing_authority_net_generation_balancing_authority_code_eia_core_eia__codes_balancing_authorities')),
    sa.PrimaryKeyConstraint('report_datetime_utc', 'balancing_authority_code_eia', 'energy_source', name=op.f('pk_core_eia930__hourly_balancing_authority_net_generation'))
    )
    op.create_table('core_eia930__hourly_subregion_demand',
    sa.Column('report_datetime_local', sqlite.DATETIME(), nullable=True, comment='Local date and time of the report.'),
    sa.Column('report_datetime_utc', sqlite.DATETIME(), nullable=False, comment='UTC date and time of the report.'),
    sa.Column('balancing_authority_code_eia', sa.Text(), nullable=False, comment='EIA short code identifying a balancing authority.'),
    sa.Column('subregion_code_eia', sa.Enum('0001', '0004', '0006', '0027', '0035', '4001', '4002', '4003', '4004', '4005', '4006', '4007', '4008', '8910', 'ACMA', 'AE', 'AEP', 'AP', 'ATSI', 'BC', 'CE', 'COAS', 'CSWS', 'CYGA', 'DAY', 'DEOK', 'DOM', 'DPL', 'DUQ', 'EAST', 'EDE', 'EKPC', 'FREP', 'FWES', 'GRDA', 'INDN', 'JC', 'JICA', 'KACY', 'KAFB', 'KCEC', 'KCPL', 'LAC', 'LES', 'ME', 'MPS', 'NCEN', 'NPPD', 'NRTH', 'NTUA', 'OKGE', 'OPPD', 'PE', 'PEP', 'PGAE', 'PL', 'PN', 'PNM', 'PS', 'RECO', 'SCE', 'SCEN', 'SDGE', 'SECI', 'SOUT', 'SPRM', 'SPS', 'TSGT', 'VEA', 'WAUE', 'WEST', 'WFEC', 'WR', 'ZONA', 'ZONB', 'ZONC', 'ZOND', 'ZONE', 'ZONF', 'ZONG', 'ZONH', 'ZONI', 'ZONJ', 'ZONK'), nullable=False, comment='EIA subregion code.'),
    sa.Column('demand_reported_mw', sa.Float(), nullable=True, comment='Reported demand.'),
    sa.ForeignKeyConstraint(['balancing_authority_code_eia'], ['core_eia__codes_balancing_authorities.code'], name=op.f('fk_core_eia930__hourly_subregion_demand_balancing_authority_code_eia_core_eia__codes_balancing_authorities')),
    sa.PrimaryKeyConstraint('report_datetime_utc', 'balancing_authority_code_eia', 'subregion_code_eia', name=op.f('pk_core_eia930__hourly_subregion_demand'))
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('core_eia930__hourly_subregion_demand')
    op.drop_table('core_eia930__hourly_balancing_authority_net_generation')
    op.drop_table('core_eia930__hourly_balancing_authority_interchange')
    op.drop_table('core_eia930__hourly_balancing_authority_demand')
    op.drop_table('core_eia930__assn_balancing_authority_subregion')
    op.drop_table('core_eia930__assn_balancing_authority_region')
    # ### end Alembic commands ###
