---
name: PUDL Data Release
about: Create a new versioned PUDL data release for distribution.
title: PUDL Data Release vYYYY.MM.x
labels:
  - metadata
  - packaging
  - release
  - zenodo
assignees: ""
---

[Additional release process documentation](https://catalystcoop-pudl.readthedocs.io/en/nightly/dev/run_a_release.html).

## Release Checklist

- [ ] Set a release date & notify team
- [ ] Update our CITATION.cff file with the new release date and current Catalyst membership.
- [ ] Update our .zenodo.json file with current Catalyst membership.
- [ ] Close out the [PUDL Release Notes](https://catalystcoop-pudl.readthedocs.io/en/nightly/release_notes.html) with an overview of the changes in this release. Check [PRs merged since the last release](https://github.com/catalyst-cooperative/pudl/pulls?q=is%3Apr+is%3Amerged+merged%3A%3EYYYY-MM-DD) to make sure all changes since the last release are listed somewhere in the notes.
- [ ] Merge those changes into `main`
- [ ] Verify that all `stable` commits are on `main` with `git fetch && git log origin/main..origin/stable`
- [ ] Tag the release `git tag -as -m "PUDL vYYYY.M.x" vYYYY.M.x`
- [ ] Push the release tag to `main`: `git push origin vYYYY.M.x`
- [ ] Verify that the new [GitHub (software) release](https://github.com/catalyst-cooperative/pudl/releases) has been published
- [ ] Edit the GitHub Release: replace the default text with an autogenerated changelog by setting the previous tag and clicking "Generate release notes"
- [ ] Verify that [PUDL repo archive on Zenodo](https://zenodo.org/doi/10.5281/zenodo.3404014) has been updated w/ new version
- [ ] Wait several hours for a successful build to complete ([monitor here](https://console.cloud.google.com/monitoring/dashboards/builder/992bbe3f-17e6-49c4-a9e8-8f1925d4ec24))
- [ ] Verify that the corresponding `zenodo-data-release` GHA completed successfully. If it times out less than halfway through, re-run manually (production, vYYYY.M.x, default regex, no-publish). If Zenodo is extra cranky, ignore the GHA and upload the remaining files manually.
- [ ] Activate new version on the [RTD admin panel](https://app.readthedocs.org/projects/catalystcoop-pudl/) and verify that it builds successfully.
- [ ] Verify that `stable` and the version tag point at same git ref
- [ ] Verify that [`stable` docs on RTD](https://catalystcoop-pudl.readthedocs.io/en/stable/) have been updated
- [ ] Verify `gs://pudl.catalyst.coop/vYYYY.M.x` has the new expected data.
- [ ] Verify `gs://pudl.catalyst.coop/stable` has the new expected data.
- [ ] Verify `s3://pudl.catalyst.coop/vYYYY.M.x` has the new expected data.
- [ ] Verify `s3://pudl.catalyst.coop/stable` has the new expected data.
- [ ] Verify that draft deposition for [this Zenodo archive](https://doi.org/10.5281/zenodo.3653158) has the new expected data
- [ ] Update Zenodo description and other metadata based on release notes (see task list below)
- [ ] Manually publish the new Zenodo deposition with the updated metadata
- [ ] Notify team we're clear of the release, and remind them to move any release notes in open PRs to the next release section
- [ ] Create an Announcement for the release in [our GitHub Discussions](https://github.com/orgs/catalyst-cooperative/discussions)
- [ ] Update the [release documentation](https://catalystcoop-pudl.readthedocs.io/en/nightly/dev/run_a_release.html) to better reflect the actual process for next time

### Zenodo Metadata Tasks

- [ ] Zenodo PUDL data archive
    - [ ] Make sure all Catalyst members are listed in creators (automate!)
    - [ ] Update description to reflect current release (automate!)
    - [ ] Set correct version (automate!)
- [ ] Zenodo PUDL repo archive: update release notes (cut-and-paste autogenerated changelog from GitHub)

### Issues that we ran into

- [ ] Take notes here during the release if stuff happens.
